{"ast":null,"code":"import { CURRENCY, SET_EXPENSE, DELETE_EXPENSE, EDIT_EXPENSE, SAVE_EDIT } from '../actions';\nconst INITIAL = {\n  currencies: [],\n  expenses: [],\n  values: 0,\n  editing: false,\n  editId: 0\n};\nconst walletReducer = (state = INITIAL, action) => {\n  switch (action.type) {\n    case CURRENCY:\n      {\n        return {\n          ...state,\n          currencies: Object.keys(action.payload).filter(a => a !== 'USDT')\n        };\n      }\n    case SET_EXPENSE:\n      return {\n        ...state,\n        expenses: [...state.expenses, action.payload],\n        values: state.values + action.payload.value * action.payload.exchangeRates[action.payload.currency].ask\n      };\n    case DELETE_EXPENSE:\n      return {\n        ...state,\n        expenses: state.expenses.filter(expense => expense.id !== action.payload),\n        values: state.values - (state.expenses.find(x => x.id === action.payload).value * state.expenses.find(x => x.id === action.payload).exchangeRates[state.expenses.find(x => x.id === action.payload).currency].ask).toFixed(2)\n      };\n    case EDIT_EXPENSE:\n      return {\n        ...state,\n        editId: action.payload,\n        editing: true\n      };\n    case SAVE_EDIT:\n      return {\n        ...state,\n        expenses: action.payload,\n        editing: false\n      };\n    default:\n      return state;\n  }\n};\nexport default walletReducer;","map":{"version":3,"names":["CURRENCY","SET_EXPENSE","DELETE_EXPENSE","EDIT_EXPENSE","SAVE_EDIT","INITIAL","currencies","expenses","values","editing","editId","walletReducer","state","action","type","Object","keys","payload","filter","a","value","exchangeRates","currency","ask","expense","id","find","x","toFixed"],"sources":["/home/bernardot/b/spendControl/spendControl/src/redux/reducers/wallet.js"],"sourcesContent":["import {\n  CURRENCY, SET_EXPENSE, DELETE_EXPENSE, EDIT_EXPENSE, SAVE_EDIT,\n} from '../actions';\n\nconst INITIAL = {\n  currencies: [],\n  expenses: [],\n  values: 0,\n  editing: false,\n  editId: 0,\n};\n\nconst walletReducer = (state = INITIAL, action) => {\n  switch (action.type) {\n  case CURRENCY: {\n    return {\n      ...state,\n      currencies: Object.keys(action.payload).filter((a) => a !== 'USDT'),\n    };\n  }\n  case SET_EXPENSE:\n    return {\n      ...state,\n      expenses: [...state.expenses, action.payload],\n      values: state.values\n      + (action.payload.value\n        * action.payload.exchangeRates[action.payload.currency].ask),\n    };\n  case DELETE_EXPENSE:\n    return {\n      ...state,\n      expenses: state.expenses.filter((expense) => expense.id !== action.payload),\n      values: state.values\n        - (\n          (state.expenses.find((x) => x.id === action.payload).value)\n          * (state.expenses.find((x) => x.id === action.payload)\n            .exchangeRates[\n              state.expenses.find((x) => x.id === action.payload).currency\n            ].ask)\n        ).toFixed(2),\n    };\n  case EDIT_EXPENSE:\n    return {\n      ...state,\n      editId: action.payload,\n      editing: true,\n    };\n  case SAVE_EDIT:\n    return {\n      ...state,\n      expenses: action.payload,\n      editing: false,\n    };\n  default: return state;\n  }\n};\n\nexport default walletReducer;\n"],"mappings":"AAAA,SACEA,QAAQ,EAAEC,WAAW,EAAEC,cAAc,EAAEC,YAAY,EAAEC,SAAS,QACzD,YAAY;AAEnB,MAAMC,OAAO,GAAG;EACdC,UAAU,EAAE,EAAE;EACdC,QAAQ,EAAE,EAAE;EACZC,MAAM,EAAE,CAAC;EACTC,OAAO,EAAE,KAAK;EACdC,MAAM,EAAE;AACV,CAAC;AAED,MAAMC,aAAa,GAAGA,CAACC,KAAK,GAAGP,OAAO,EAAEQ,MAAM,KAAK;EACjD,QAAQA,MAAM,CAACC,IAAI;IACnB,KAAKd,QAAQ;MAAE;QACb,OAAO;UACL,GAAGY,KAAK;UACRN,UAAU,EAAES,MAAM,CAACC,IAAI,CAACH,MAAM,CAACI,OAAO,CAAC,CAACC,MAAM,CAAEC,CAAC,IAAKA,CAAC,KAAK,MAAM;QACpE,CAAC;MACH;IACA,KAAKlB,WAAW;MACd,OAAO;QACL,GAAGW,KAAK;QACRL,QAAQ,EAAE,CAAC,GAAGK,KAAK,CAACL,QAAQ,EAAEM,MAAM,CAACI,OAAO,CAAC;QAC7CT,MAAM,EAAEI,KAAK,CAACJ,MAAM,GACjBK,MAAM,CAACI,OAAO,CAACG,KAAK,GACnBP,MAAM,CAACI,OAAO,CAACI,aAAa,CAACR,MAAM,CAACI,OAAO,CAACK,QAAQ,CAAC,CAACC;MAC5D,CAAC;IACH,KAAKrB,cAAc;MACjB,OAAO;QACL,GAAGU,KAAK;QACRL,QAAQ,EAAEK,KAAK,CAACL,QAAQ,CAACW,MAAM,CAAEM,OAAO,IAAKA,OAAO,CAACC,EAAE,KAAKZ,MAAM,CAACI,OAAO,CAAC;QAC3ET,MAAM,EAAEI,KAAK,CAACJ,MAAM,GAChB,CACCI,KAAK,CAACL,QAAQ,CAACmB,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACF,EAAE,KAAKZ,MAAM,CAACI,OAAO,CAAC,CAACG,KAAK,GACvDR,KAAK,CAACL,QAAQ,CAACmB,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACF,EAAE,KAAKZ,MAAM,CAACI,OAAO,CAAC,CACnDI,aAAa,CACZT,KAAK,CAACL,QAAQ,CAACmB,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACF,EAAE,KAAKZ,MAAM,CAACI,OAAO,CAAC,CAACK,QAAQ,CAC7D,CAACC,GAAI,EACRK,OAAO,CAAC,CAAC;MACf,CAAC;IACH,KAAKzB,YAAY;MACf,OAAO;QACL,GAAGS,KAAK;QACRF,MAAM,EAAEG,MAAM,CAACI,OAAO;QACtBR,OAAO,EAAE;MACX,CAAC;IACH,KAAKL,SAAS;MACZ,OAAO;QACL,GAAGQ,KAAK;QACRL,QAAQ,EAAEM,MAAM,CAACI,OAAO;QACxBR,OAAO,EAAE;MACX,CAAC;IACH;MAAS,OAAOG,KAAK;EACrB;AACF,CAAC;AAED,eAAeD,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}